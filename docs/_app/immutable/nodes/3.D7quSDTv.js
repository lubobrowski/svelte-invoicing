import{t as H,a as A}from"../chunks/CCKuI0ak.js";import"../chunks/CwRjhfda.js";import{b as re,h as M,a as ne,m as y,a3 as ie,c as se,r as Y,s as U,d as R,g as E,T as le,e as B,f as G,p as oe,a4 as K,Y as J,O as V,a5 as ue,a6 as de,a7 as W,a8 as ce,a9 as fe,X as ve,aa as me,ab as ge,ac as he,ad as pe,R as _e,K as be,C as Q,x as b,z as w,y as x,D as we,F as j,ae as P,af as T}from"../chunks/JZvUETUs.js";import{i as q}from"../chunks/DKnwC0Tw.js";import{s as C}from"../chunks/Bcr8SoTV.js";import{i as ye}from"../chunks/WFk4vlOS.js";import{o as xe}from"../chunks/BNzR133j.js";import{b as S}from"../chunks/B1KZqtA-.js";import{s as k}from"../chunks/DjAHPrII.js";function ze(t,e){return e}function De(t,e,a,l){for(var v=[],s=e.length,o=0;o<s;o++)fe(e[o].e,v,!0);var m=s>0&&v.length===0&&a!==null;if(m){var c=a.parentNode;ve(c),c.append(a),l.clear(),D(t,e[0].prev,e[s-1].next)}me(v,()=>{for(var h=0;h<s;h++){var n=e[h];m||(l.delete(n.k),D(t,n.prev,n.next)),ge(n.e,!m)}})}function Me(t,e,a,l,v,s=null){var o=t,m={flags:e,items:new Map,first:null};M&&ne();var c=null,h=!1,n=ie(()=>{var d=a();return be(d)?d:d==null?[]:J(d)});re(()=>{var d=y(n),i=d.length;if(h&&i===0)return;h=i===0;let f=!1;if(M){var u=o.data===se;u!==(i===0)&&(o=Y(),U(o),R(!1),f=!0)}if(M){for(var _=null,p,r=0;r<i;r++){if(E.nodeType===8&&E.data===le){o=E,f=!0,R(!1);break}var g=d[r],I=l(g,r);p=ee(E,m,_,null,g,I,r,v,e,a),m.items.set(I,p),_=p}i>0&&U(Y())}M||Ee(d,m,o,v,e,l,a),s!==null&&(i===0?c?B(c):c=G(()=>s(o)):c!==null&&oe(c,()=>{c=null})),f&&R(!0),y(n)}),M&&(o=E)}function Ee(t,e,a,l,v,s,o){var m=t.length,c=e.items,h=e.first,n=h,d,i=null,f=[],u=[],_,p,r,g;for(g=0;g<m;g+=1){if(_=t[g],p=s(_,g),r=c.get(p),r===void 0){var I=n?n.e.nodes_start:a;i=ee(I,e,i,i===null?e.first:i.next,_,p,g,l,v,o),c.set(p,i),f=[],u=[],n=i.next;continue}if(Ie(r,_,g),(r.e.f&K)!==0&&B(r.e),r!==n){if(d!==void 0&&d.has(r)){if(f.length<u.length){var N=u[0],z;i=N.prev;var F=f[0],L=f[f.length-1];for(z=0;z<f.length;z+=1)X(f[z],N,a);for(z=0;z<u.length;z+=1)d.delete(u[z]);D(e,F.prev,L.next),D(e,i,F),D(e,L,N),n=N,i=L,g-=1,f=[],u=[]}else d.delete(r),X(r,n,a),D(e,r.prev,r.next),D(e,r,i===null?e.first:i.next),D(e,i,r),i=r;continue}for(f=[],u=[];n!==null&&n.k!==p;)(n.e.f&K)===0&&(d??(d=new Set)).add(n),u.push(n),n=n.next;if(n===null)continue;r=n}f.push(r),i=r,n=r.next}if(n!==null||d!==void 0){for(var O=d===void 0?[]:J(d);n!==null;)(n.e.f&K)===0&&O.push(n),n=n.next;var ae=O.length;if(ae>0){var te=null;De(e,O,te,c)}}V.first=e.first&&e.first.e,V.last=i&&i.e}function Ie(t,e,a,l){ue(t.v,e),t.i=a}function ee(t,e,a,l,v,s,o,m,c,h){var n=(c&he)!==0,d=(c&pe)===0,i=n?d?de(v):W(v):v,f=(c&ce)===0?o:W(o),u={i:f,v:i,k:s,a:null,e:null,prev:a,next:l};try{return u.e=G(()=>m(t,i,f,h),M),u.e.prev=a&&a.e,u.e.next=l&&l.e,a===null?e.first=u:(a.next=u,a.e.next=u.e),l!==null&&(l.prev=u,l.e.prev=u.e),u}finally{}}function X(t,e,a){for(var l=t.next?t.next.e.nodes_start:a,v=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==l;){var o=_e(s);v.before(s),s=o}}function D(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const Ne=[{taxIdNumber:"4326008081",fullName:"Uniwersytecki Szpital Kliniczny w Olsztynie",streetAddress:"ul. Warszawska 30",postalCode:"10-082",city:"Olsztyn"},{taxIdNumber:"6443125780",fullName:"Samodzielny Publiczny Zakład Opieki Zdrowotnej Centralny Szpital Kliniczny Uniwersytetu Medycznego w Łodzi",streetAddress:"ul. Pomorska 251",postalCode:"92-213",city:"Łódź"},{taxIdNumber:"4326008081",fullName:"Samodzielny Publiczny Szpital Kliniczny im. prof. Witolda Orłowskiego Centrum Medycznego Kształcenia Podyplomowego w Warszawie",streetAddress:"ul. Czerniakowska 231",postalCode:"00-416",city:"Warszawa"}];function Te(t,e){return new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime()))}function ke(t){return t[Math.floor(Math.random()*t.length)]}function Z(t,e){let a=t+"";for(;a.length<e;)a="0"+a;return a}function Ae(t){return`${t.getFullYear()}-${Z(t.getMonth()+1,2)}-${Z(t.getDate(),2)}`}function Ce(t){return[t.fullName,t.streetAddress,t.postalCode,t.city,t.taxIdNumber].join(" ")}function Se(t){let e=[];const a=new Date("2025-01-01"),l=new Date(Date.now());let v=Math.round(Math.random()*100);for(let s=0;s<t;s++){let o=Te(a,l),m=Ae(o),c=1e3+Math.round(Math.random()*2e4)/2;e.push({number:`${v++}/2025`,issueDate:m,customerData:Ce(ke(Ne)),totalValue:c})}return e}function He(t){return t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(","," ").replace(".",",")+" PLN"}var Le=H('<div class="card card-sm bg-base-100 shadow-sm"><div class="card-body"><div class="grid grid-cols-2"><h2 class="card-title text-xl"> </h2> <p class="text-right text-lg font-semibold"> </p> <p class="mt-2 text-sm"> </p> <p class="mt-2 text-right text-lg font-bold"> </p></div> <div class="card-actions justify-end"><button class="btn btn-sm btn-square"><img alt="Drukuj" class="w-5"></button> <button class="btn btn-sm btn-square"><img alt="Szczegóły" class="w-5"></button></div></div></div>');function Oe(t,e){Q(e,!0);var a=Le(),l=b(a),v=b(l),s=b(v),o=b(s);w(s);var m=x(s,2),c=b(m,!0);w(m);var h=x(m,2),n=b(h,!0);w(h);var d=x(h,2),i=b(d,!0);w(d),w(v);var f=x(v,2),u=b(f),_=b(u);C(_,"src",`${S??""}/icons/printer.svg`),w(u);var p=x(u,2),r=b(p);C(r,"src",`${S??""}/icons/view-show.svg`),w(p),w(f),w(l),w(a),we(g=>{k(o,`Nr ${e.invoice.number??""}`),k(c,e.invoice.issueDate),k(n,e.invoice.customerData),k(i,g)},[()=>He(e.invoice.totalValue)]),A(t,a),j()}const $=Se(40);async function Re(t,e){const a=t*e;return await new Promise(l=>setTimeout(l,1e3)),$.slice(a,Math.min($.length,a+e))}var Ke=H('<p class="loading loading-spinner loading-xl mx-auto mt-4 text-center"></p>'),Pe=H("<p>Koniec listy.</p>"),Fe=H('<div class="grid grid-cols-1 gap-y-3 px-2 pb-24"><div class="mx-4 my-4 grid grid-cols-2"><h2 class="text-3xl font-semibold">Faktury</h2></div> <!> <!> <!> <a class="fixed btn btn-secondary btn-xl rounded-2xl bottom-5 right-5"><img alt="Dodaj" class="w-7"></a></div>');function Ge(t,e){Q(e,!1);let a=P([]),l=1;const v=5;let s=P(!1),o=P(!1);async function m(){if(y(s)||y(o))return;T(s,!0);const r=await Re(l,v);r.length===0?T(o,!0):(T(a,[...y(a),...r]),l+=1),T(s,!1)}function c(){window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&m()}xe(()=>(m(),window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)})),ye();var h=Fe(),n=x(b(h),2);Me(n,1,()=>y(a),ze,(r,g)=>{Oe(r,{get invoice(){return y(g)}})});var d=x(n,2);{var i=r=>{var g=Ke();A(r,g)};q(d,r=>{y(s)&&r(i)})}var f=x(d,2);{var u=r=>{var g=Pe();A(r,g)};q(f,r=>{y(o)&&y(a).length>0&&r(u)})}var _=x(f,2);C(_,"href",`${S??""}/invoices/new`);var p=b(_);C(p,"src",`${S??""}/icons/document-add.svg`),w(_),w(h),A(t,h),j()}export{Ge as component};
